<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>无标题文档</title>
        <link href="__PUBLIC__/Style/Admin/css/style.css" rel="stylesheet" type="text/css" />
     
        <script type="text/javascript" src="__PUBLIC__/Plugins/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="__PUBLIC__/Plugins/Layer/layer.js"></script>
        <script type="text/javascript" src="__PUBLIC__/Plugins/Layer/layer.common.js"></script>
        <script type="text/javascript" src="__PUBLIC__/Style/Admin/js/model.js"></script>
    </head>

    <body>

        <div class="place">
            <span>位置：</span>
            <ul class="placeul">
                <li><a href="#">工作台</a></li><li><a href="#">字段管理</a></li><li><a href="#">添加字段</a></li>    
            </ul>
        </div>

        <div class="formbody">

            <div class="formtitle"><span>添加字段</span></div>
            <form class="registerform validform" action="{:U('/Admin/Fieldinfo/ajaxPost')}">
            <ul class="forminfo">

                {:input(array('title'=>'字段名称','inputName'=>'name','isMust'=>'1','tipMsg'=>'标题不能超过30个字符','addHtml'=>'datatype="s1-30" errormsg="标题不能超过30个字符" ajaxurl="/Admin/Fieldinfo/checkName/modelId/'.$modelId.'" sucmsg="验证通过！"','value'=>$info['name']))}
                {:input(array('title'=>'字段','inputName'=>'field_name','isMust'=>'1','tipMsg'=>'数据库字段名，用纯英文小写','addHtml'=>'datatype="y1-20"  ajaxurl="/Admin/Fieldinfo/checkName/modelId/'.$modelId.'"   errormsg="格式为纯英文"','value'=>$info['field_name']))}
                {:select(array('title'=>'类型','inputName'=>'type','isMust'=>'1','addHtml'=>'datatype="*" id="fieldType" errormsg="请选择"','value'=>$info['type'],'paramArr'=>$fieldType))}
                {:input(array('title'=>'字段长度','inputName'=>'field_longth','isMust'=>'1','tipMsg'=>'数据库字段长度','addHtml'=>'datatype="n"  ajaxurl="/Admin/Fieldinfo/checkLongth/modelId/'.$modelId.'"   errormsg="格式为正整数"','value'=>100))}
                {:radio(array('title'=>'是否必填','inputName'=>'must','value'=>0,'paramArr'=>get_valid()))}
                {:radio(array('title'=>'验证唯一性','inputName'=>'ajax_url','value'=>0,'paramArr'=>get_valid()))}
                {:radio(array('title'=>'列表显示','inputName'=>'list_show','value'=>0,'paramArr'=>get_valid()))}
                {:radio(array('title'=>'搜索显示','inputName'=>'search_show','value'=>0,'paramArr'=>get_valid()))}
                {:select(array('title'=>'验证规则','inputName'=>'validform_type','addHtml'=>'datatype="*" ignore="ignore" ','value'=>$info['type'],'paramArr'=>$validformType,'addHtml'=>'onchange="changeGuize($(this));" '))}
                {:input(array('title'=>'自定义规则','inputName'=>'validform_type2','tipMsg'=>'自定义验证规则','li_class'=>'none guize'))}
                {:hideInput(array('inputName'=>'model_id','value'=>$modelId))}
               
                {:input(array('title'=>'增加class','inputName'=>'form_class','tipMsg'=>'class名','addHtml'=>'datatype="y1-20" ignore="ignore"  errormsg="格式为纯英文"','value'=>$info['form_class']))}
                {:input(array('title'=>'增加id','inputName'=>'form_id','tipMsg'=>'id名','addHtml'=>'datatype="y1-20" ignore="ignore"  errormsg="格式为纯英文"','value'=>$info['form_id']))}
                {:input(array('title'=>'增加html','inputName'=>'form_html','tipMsg'=>'其它html代码','value'=>$info['form_id']))}
                {:input(array('title'=>'提示信息','inputName'=>'tip_msg','tipMsg'=>'不能超过30个字符','addHtml'=>'datatype="s1-30" ignore="ignore" errormsg="不能超过30个字符"  ','value'=>$info['tip_msg']))}
                {:input(array('title'=>'显示排序','inputName'=>'sort','tipMsg'=>'字段显示排序','addHtml'=>'datatype="n" ignore="ignore" errormsg="请填写整数"  ','value'=>0))}
                {:textarea(array('title'=>'表单初始值','inputName'=>'form_value','value'=>$info['description'],'tipMsg'=>"如果是下拉框，单选，多选，文本框的初始值，请用A|B,C|D格式或者直接写获取初始值的方法",'addHtml'=>''))}
                <li><label>&nbsp;</label><input name="" type="submit" class="btn" value="确认保存"/></li>
            </ul>

            </form>
        </div>
    </body>
<script type="text/javascript" src="__PUBLIC__/Plugins/Validform/Validform_v5.3.2.js"></script>
<script type="text/javascript" src="__PUBLIC__/Plugins/Validform/Validform.js"></script>

</html>

